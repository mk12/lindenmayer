{{ define "index" }}
{{ template "header" . }}

<div class="main">
	<div class="panel controls">
		{{ if .HasPrev }}
			<a id="DecDepth" class="depth" href="/{{ .Name }}/{{ add .Depth -1 }}{{ .Query }}">DEC</a>
		{{ else }}
			<span class="depth disabled">DEC</span>
		{{ end }}
		{{ if .HasNext }}
			<a id="IncDepth" class="depth" href="/{{ .Name }}/{{ add .Depth 1 }}{{ .Query }}">INC</a>
		{{ else }}
			<span class="depth disabled">INC</span>
		{{ end }}

		<form action="/{{ .Name }}/{{ .Depth }}" method="get">
			<div class="group">
				<label for="Thickness">thickness</label>
				<input id="Thickness" name="s" type="range" min="0.25" max="10" step="0.25" value="{{ .Thickness }}">
			</div>

			<div class="group">
				<label for="Color">colour</label>
				<input id="Color" name="c" type="text" value="{{ .Color }}">
			</div>

			<div class="group">
				<input id="Submit" type="submit" value="Update">
			</div>
		</form>
	</div>
	<div id="Curve" class="content">
		{{ .SVG }}
	</div>
	<nav class="panel navigation">
		<ul>
			{{ range $name := .Systems }}
				{{ if eq $name $.Name }}
					<li class="active">{{ $name }}</li>
				{{ else }}
					<li><a href="/{{ $name }}{{ $.Query }}">{{ $name }}</a></li>
				{{ end }}
			{{ end }}
		</ul>
	</nav>
</div>

<script>
	var _NAME = '{{ .Name }}';
	var _MAX_DEPTH = '{{ .MaxDepth }}';
	var _depth = {{ .Depth }};
	var _thickness = '{{ .Thickness }}';
	var _color = '{{ .Color }}';
</script>
<script src="/static/js/script.js"></script>

{{ template "footer" . }}
{{ end }}
