{{ define "index" }}
{{ template "header" . }}

<div class="main">
	<div class="panel controls">
		{{ if .HasPrev }}
			<a id="DecDepth" class="depth" href="/{{ .Name }}/{{ add .Depth -1 }}{{ .Query }}">DEC</a>
		{{ else }}
			<span class="depth disabled">DEC</span>
		{{ end }}
		{{ if .HasNext }}
			<a id="IncDepth" class="depth" href="/{{ .Name }}/{{ add .Depth 1 }}{{ .Query }}">INC</a>
		{{ else }}
			<span class="depth disabled">INC</span>
		{{ end }}

		<div class="extra">
			<label for="Thickness">thickness</label>
			<input id="Thickness" type="range" min="0.25" max="10" step="0.25" value="{{ .Thickness }}">
		</div>

		<div class="extra">
			<label for="Color">colour</label>
			<input id="Color" type="text" value="{{ .Color }}">
		</div>
	</div>
	<div id="Curve" class="content">
		{{ .SVG }}
	</div>
	<nav class="panel navigation">
		<ul>
			{{ range $name := .Systems }}
				{{ if eq $name $.Name }}
					<li class="active">{{ $name }}</li>
				{{ else }}
					<li><a href="/{{ $name }}{{ $.Query }}">{{ $name }}</a></li>
				{{ end }}
			{{ end }}
		</ul>
	</nav>
</div>

<script>
	var _NAME = '{{ .Name }}';
	var _MAX_DEPTH = '{{ .MaxDepth }}';
	var _depth = {{ .Depth }};
	var _thickness = '{{ .Thickness }}';
	var _color = '{{ .Color }}';
</script>
<script src="/static/js/script.js"></script>

{{ template "footer" . }}
{{ end }}
